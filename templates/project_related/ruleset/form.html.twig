{% extends 'project_related/project_related_base.html.twig' %}

{% form_theme form 'project_related/rule/_form_theme.html.twig' %}

{% if isNew %}
    {% set title = 'Add ruleset' %}
{% else %}
    {% set title = 'Edit ruleset ' ~ ruleset.name %}
{% endif %}

{% block documentTitle %}{{ title }} - {{ parent() }}{% endblock %}

{% block pageBody %}
    <div class="container-tight pb-4">
        <div class="row">
            <div class="col text-center">
                <img src="{{ asset('build/images/icons/ruleset.svg') }}" class="w-50 mb-5" />
            </div>
        </div>

        {{ form_start(form) }}
        <div class="row">
            <div class="col">
                <div class="card card-md">
                    <div class="card-body">
                        <h2 class="card-title text-center mb-4">
                            {{ title }}
                        </h2>

                        {% if hasError %}
                            <div class="alert alert-danger">
                                {{ errorMessage }}
                            </div>
                        {% endif %}

                        {{ form_row(form.name) }}
                        {{ form_row(form.url) }}
                        {{ form_row(form.status) }}
                        {{ form_row(form.spamRatingFactor) }}
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col">
                <a href="{{ path('ruleset_list') }}" class="btn btn-outline-secondary" tabindex="1000">
                    <i class="ti ti-chevron-left"></i>
                    Back to rulesets
                </a>
            </div>
            <div class="col-auto">
                <button type="submit" class="btn btn-primary">
                    <i class="ti ti-device-floppy"></i>
                    Save
                </button>
            </div>
        </div>
        {{ form_end(form) }}
    </div>
{% endblock %}
